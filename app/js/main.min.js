const getTemplate=(t=[],e,s)=>{let i=e??"Placeholder не установлен";const n=t.map((t=>{let e="";return t.id===s&&(i=t.value,e="selected"),`\n         <li class="select__item" data-type="item" data-id="${t.id}">${t.value}</li>\n      `}));return`\n   <div class="select__backdrop" data-type="backdrop"></div>\n   <div class="select__input" data-type="input">\n\t\t<span data-type="value">${i}</span>\n\t\t<svg class="select__arow down" data-type="arrow">\n\t\t\t<use xlink: href="#arrow-down"></use>\n\t\t</svg>\n\t</div>\n\t<div class="select__drop-down">\n\t\t<ul class="select__list">\n\t\t\t${n.join("")}\n\t\t</ul>\n\t</div>\n   `};class Select{constructor(t,e){this.$el=document.querySelector(t),this.options=e,this.selectedId=e.selectedId,this.#t(),this.#e()}#t(){const{placeholder:t,data:e}=this.options;this.$el.classList.add("select"),this.$el.innerHTML=getTemplate(e,t,this.selectedId)}#e(){this.clickHandler=this.clickHandler.bind(this),this.$el.addEventListener("click",this.clickHandler),this.$arrow=this.$el.querySelector('[data-type="arrow"]'),this.$value=this.$el.querySelector('[data-type="value"]')}clickHandler(t){const{type:e}=t.target.dataset;if("input"===e||"value"===e||"arrow"===e||void 0===e)this.toggle();else if("item"===e){const e=t.target.dataset.id;this.select(e)}else"backdrop"===e&&this.close()}get isOpen(){return this.$el.classList.contains("open")}get current(){return this.options.data.find((t=>t.id===this.selectedId))}select(t){this.selectedId=t,this.$value.textContent=this.current.value,this.$el.querySelectorAll('[data-type="item"]').forEach((t=>t.classList.remove("selected"))),this.$el.querySelector(`[data-id="${t}"]`).classList.add("selected"),this.options.onSelect&&this.options.onSelect(this.current),this.close()}toggle(){this.isOpen?this.close():this.open()}open(){this.$el.classList.add("open"),this.$arrow.classList.remove("down"),this.$arrow.classList.add("up")}close(){this.$el.classList.remove("open"),this.$arrow.classList.add("down"),this.$arrow.classList.remove("up")}destroy(){this.$el.removeEventListener("click",this.clickHandler),this.$el.innerHTML=""}}class BurgerNavigation{constructor(t,e){this.burger=t,this.nav=e,this.AddListenerMenuOff=this.AddListenerMenuOff.bind(this),this.burger.addEventListener("click",this.AddListenerMenuOff)}AddListenerMenuOff(t){t.stopPropagation(),t.currentTarget.classList.toggle("active"),this.burger.classList.contains("active")?(this.nav.classList.add("active"),this.AddListenerMenuOn()):(this.nav.classList.remove("active"),document.removeEventListener("click",this.ClickInMenu),this.nav.removeEventListener("touchstart",(function(t){this.TouchStart(t)}),{passive:!0}),this.nav.removeEventListener("touchmove",(function(t){this.TouchMove(t)}),{passive:!0}))}AddListenerMenuOn(){this.ClickInMenu=this.ClickInMenu.bind(this),this.TouchStart=this.TouchStart.bind(this),this.TouchMove=this.TouchMove.bind(this),document.addEventListener("click",this.ClickInMenu),this.nav.addEventListener("touchstart",this.TouchStart,{passive:!0}),this.nav.addEventListener("touchmove",this.TouchMove,{passive:!0})}ClickInMenu(t){t.preventDefault();const e=t.target,s=e==this.nav||this.nav.contains(e),i=e==this.burger,n=this.nav.classList.contains("active");s||i||!n?BurgerNavigation.ScrollNav(t):(this.nav.classList.remove("active"),this.burger.classList.remove("active"))}set pointStart(t){this._pointstart=t}get pointStart(){return this._pointstart}set pointMove(t){this._pointmove=t}get pointMove(){return this._pointmove}TouchStart(t){t.stopPropagation(),this.pointStart=t.targetTouches[0].clientX}TouchMove(t){t.stopPropagation(),this.pointMove=t.targetTouches[0].clientX,this.pointStart+100<this.pointMove&&(this.nav.classList.remove("active"),this.burger.classList.remove("active"),this.nav.classList.remove("active"),document.removeEventListener("click",this.ClickInMenu),this.nav.removeEventListener("touchstart",this.TouchStart,{passive:!0}),this.nav.removeEventListener("touchmove",this.TouchMove,{passive:!0}))}static ScrollNav(t){t.preventDefault();const e=t.target.text.toLowerCase();str;const s=document.querySelectorAll("[data-section]"),i=document.documentElement.clientHeight;s.forEach((t=>{t.dataset.section===e&&window.scrollTo(0,t.offsetTop-i/8)}))}}const burger=document.querySelector(".burger"),nav=document.querySelector(".menu"),headerBG=document.querySelector(".header");function ibgmy(){const t=document.getElementsByClassName("ibg");for(let e of t){const t=e.children[0].getAttribute("src");e.style.backgroundImage=`url("${t}")`}}function startNavigation(){const t=getComputedStyle(burger).display;console.log(t),"block"===t?new BurgerNavigation(burger,nav):nav.addEventListener("click",BurgerNavigation.ScrollNav)}ibgmy(),startNavigation();const select=new Select("#select",{placeholder:"Device Repair",data:[{id:"1",value:"iPhone"},{id:"2",value:"Google"},{id:"3",value:"All Smartphones"},{id:"4",value:"Tablet"},{id:"4",value:"Computer"},{id:"4",value:"Game Console"},{id:"4",value:"Gadgets"}],onSelect(t){}});